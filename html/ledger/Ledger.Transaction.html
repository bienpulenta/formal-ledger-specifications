<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Transaction</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">\section{Transactions}
\label{sec:transactions}

</a><a id="50" class="Markup">\begin{code}[hide]</a>
<a id="69" class="Symbol">{-#</a> <a id="73" class="Keyword">OPTIONS</a> <a id="81" class="Pragma">--safe</a> <a id="88" class="Symbol">#-}</a>
<a id="92" class="Comment">--------------------------------------------------------------------------------</a>
<a id="173" class="Comment">-- NOTE: Everything in this module is part of TransactionStructure</a>
<a id="240" class="Comment">--------------------------------------------------------------------------------</a>
<a id="321" class="Keyword">module</a> <a id="328" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a> <a id="347" class="Keyword">where</a>

<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="382" class="Keyword">open</a> <a id="387" class="Keyword">import</a> <a id="394" href="Ledger.Crypto.html" class="Module">Ledger.Crypto</a>
<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="Ledger.Epoch.html" class="Module">Ledger.Epoch</a>
<a id="433" class="Keyword">open</a> <a id="438" class="Keyword">import</a> <a id="445" href="Ledger.TokenAlgebra.html" class="Module">Ledger.TokenAlgebra</a>
<a id="465" class="Keyword">import</a> <a id="472" href="Ledger.PParams.html" class="Module">Ledger.PParams</a>
<a id="487" class="Keyword">import</a> <a id="494" href="Ledger.Script.html" class="Module">Ledger.Script</a>

<a id="509" class="Keyword">record</a> <a id="TransactionStructure"></a><a id="516" href="Ledger.Transaction.html#516" class="Record">TransactionStructure</a> <a id="537" class="Symbol">:</a> <a id="539" href="Agda.Primitive.html#320" class="Primitive">Set₁</a> <a id="544" class="Keyword">where</a>
  <a id="552" class="Keyword">field</a>
<a id="558" class="Markup">\end{code}</a><a id="568" class="Background">

Transactions are defined in Figure~\ref{fig:defs:utxo-shelley}.
A transaction is made up of three pieces:

\begin{itemize}
  \item A set of transaction inputs.
    This derived type identifies an output from a previous transaction.
    It consists of a transaction id and an index to uniquely identify the output.
  \item An indexed collection of transaction outputs.
    The $\TxOut$ type is an address paired with a coin value.
  \item A transaction fee. This value will be added to the fee pot.
\end{itemize}

Finally, $\fun{txid}$ computes the transaction id of a given transaction.
This function must produce a unique id for each unique transaction body.
\textbf{We assume that} $\fun{txid}$ \textbf{is injective.}

\begin{figure*}[h]
\emph{Abstract types}
\AgdaTarget{Ix, TxId, Epoch, AuxiliaryData}
</a><a id="1376" class="Markup">\begin{code}</a>
        <a id="TransactionStructure.Ix"></a><a id="1397" href="Ledger.Transaction.html#1397" class="Field">Ix</a> <a id="TransactionStructure.TxId"></a><a id="1400" href="Ledger.Transaction.html#1400" class="Field">TxId</a> <a id="TransactionStructure.AuxiliaryData"></a><a id="1405" href="Ledger.Transaction.html#1405" class="Field">AuxiliaryData</a> <a id="1419" class="Symbol">:</a> <a id="1421" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="1425" class="Markup">\end{code}</a><a id="1435" class="Background">
</a><a id="1436" class="Markup">\begin{code}[hide]</a>
        <a id="TransactionStructure.epochStructure"></a><a id="1463" href="Ledger.Transaction.html#1463" class="Field">epochStructure</a>                      <a id="1499" class="Symbol">:</a> <a id="1501" href="Ledger.Epoch.html#526" class="Record">EpochStructure</a>
        <a id="TransactionStructure.globalConstants"></a><a id="1524" href="Ledger.Transaction.html#1524" class="Field">globalConstants</a>                     <a id="1560" class="Symbol">:</a> <a id="1562" href="Ledger.Epoch.html#300" class="Record">GlobalConstants</a>

  <a id="1581" class="Keyword">open</a> <a id="1586" href="Ledger.Epoch.html#526" class="Module">EpochStructure</a> <a id="1601" href="Ledger.Transaction.html#1463" class="Field">epochStructure</a> <a id="1616" class="Keyword">public</a>
  <a id="1625" class="Keyword">open</a> <a id="1630" href="Ledger.Epoch.html#300" class="Module">GlobalConstants</a> <a id="1646" href="Ledger.Transaction.html#1524" class="Field">globalConstants</a> <a id="1662" class="Keyword">public</a>
  <a id="1671" class="Keyword">field</a> <a id="TransactionStructure.crypto"></a><a id="1677" href="Ledger.Transaction.html#1677" class="Field">crypto</a>                              <a id="1713" class="Symbol">:</a> <a id="1715" href="Ledger.Crypto.html#1628" class="Record">Crypto</a>
        <a id="TransactionStructure.adHashingScheme"></a><a id="1730" href="Ledger.Transaction.html#1730" class="Field">adHashingScheme</a>                     <a id="1766" class="Symbol">:</a> <a id="1768" href="Ledger.Crypto.html#190" class="Record">isHashableSet</a> <a id="1782" href="Ledger.Transaction.html#1405" class="Field">AuxiliaryData</a>
        <a id="TransactionStructure.ppUpd"></a><a id="1804" href="Ledger.Transaction.html#1804" class="Field">ppUpd</a>                               <a id="1840" class="Symbol">:</a> <a id="1842" href="Ledger.PParams.html#644" class="Record">Ledger.PParams.PParamsDiff</a> <a id="1869" href="Ledger.Epoch.html#593" class="Function">Epoch</a>
        <a id="TransactionStructure.txidBytes"></a><a id="1883" href="Ledger.Transaction.html#1883" class="Field">txidBytes</a>                           <a id="1919" class="Symbol">:</a> <a id="1921" href="Ledger.Transaction.html#1400" class="Field">TxId</a> <a id="1926" class="Symbol">→</a> <a id="1928" href="Ledger.Crypto.html#938" class="Function">Crypto.Ser</a> <a id="1939" href="Ledger.Transaction.html#1677" class="Field">crypto</a>
        <a id="TransactionStructure.networkId"></a><a id="1954" href="Ledger.Transaction.html#1954" class="Field">networkId</a>                           <a id="1990" class="Symbol">:</a> <a id="1992" href="Ledger.Epoch.html#337" class="Function">Network</a>
        <a id="TransactionStructure.tokenAlgebra"></a><a id="2008" href="Ledger.Transaction.html#2008" class="Field">tokenAlgebra</a>                        <a id="2044" class="Symbol">:</a> <a id="2046" href="Ledger.TokenAlgebra.html#299" class="Record">TokenAlgebra</a>
        <a id="2067" class="Keyword">instance</a> <a id="TransactionStructure.DecEq-TxId"></a><a id="2076" href="Ledger.Transaction.html#2076" class="Field">DecEq-TxId</a>  <a id="2088" class="Symbol">:</a> <a id="2090" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="2096" href="Ledger.Transaction.html#1400" class="Field">TxId</a>
                 <a id="TransactionStructure.DecEq-Epoch"></a><a id="2118" href="Ledger.Transaction.html#2118" class="Field">DecEq-Epoch</a> <a id="2130" class="Symbol">:</a> <a id="2132" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="2138" href="Ledger.Epoch.html#593" class="Function">Epoch</a>
                 <a id="TransactionStructure.DecEq-Ix"></a><a id="2161" href="Ledger.Transaction.html#2161" class="Field">DecEq-Ix</a>    <a id="2173" class="Symbol">:</a> <a id="2175" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="2181" href="Ledger.Transaction.html#1397" class="Field">Ix</a>
                 <a id="TransactionStructure.DecEq-Netw"></a><a id="2201" href="Ledger.Transaction.html#2201" class="Field">DecEq-Netw</a>  <a id="2213" class="Symbol">:</a> <a id="2215" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="2221" href="Ledger.Epoch.html#337" class="Function">Network</a>
                 <a id="TransactionStructure.DecEq-UpdT"></a><a id="2246" href="Ledger.Transaction.html#2246" class="Field">DecEq-UpdT</a>  <a id="2258" class="Symbol">:</a> <a id="2260" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="2266" class="Symbol">(</a><a id="2267" href="Ledger.PParams.html#677" class="Field">Ledger.PParams.PParamsDiff.UpdateT</a> <a id="2302" href="Ledger.Transaction.html#1804" class="Field">ppUpd</a><a id="2307" class="Symbol">)</a>

  <a id="2312" class="Keyword">open</a> <a id="2317" href="Ledger.Crypto.html#1628" class="Module">Crypto</a> <a id="2324" href="Ledger.Transaction.html#1677" class="Field">crypto</a> <a id="2331" class="Keyword">public</a>
  <a id="2340" class="Keyword">open</a> <a id="2345" href="Ledger.TokenAlgebra.html#299" class="Module">TokenAlgebra</a> <a id="2358" href="Ledger.Transaction.html#2008" class="Field">tokenAlgebra</a> <a id="2371" class="Keyword">public</a>
  <a id="2380" class="Keyword">open</a> <a id="2385" href="Ledger.Crypto.html#190" class="Module">isHashableSet</a> <a id="2399" href="Ledger.Transaction.html#1730" class="Field">adHashingScheme</a> <a id="2415" class="Keyword">renaming</a> <a id="2424" class="Symbol">(</a><a id="2425" href="Ledger.Crypto.html#235" class="Field">THash</a> <a id="2431" class="Symbol">to</a> <a id="2434" class="Field">ADHash</a><a id="2440" class="Symbol">)</a> <a id="2442" class="Keyword">public</a>

  <a id="2452" class="Keyword">field</a> <a id="TransactionStructure.ss"></a><a id="2458" href="Ledger.Transaction.html#2458" class="Field">ss</a> <a id="2461" class="Symbol">:</a> <a id="2463" href="Ledger.Script.html#1232" class="Record">Ledger.Script.ScriptStructure</a> <a id="2493" href="Ledger.Crypto.html#1812" class="Function">KeyHash</a> <a id="2501" href="Ledger.Crypto.html#1750" class="Function">ScriptHash</a> <a id="2512" href="Ledger.Epoch.html#608" class="Function">Slot</a>

  <a id="2520" class="Keyword">open</a> <a id="2525" href="Ledger.Script.html#1232" class="Module">Ledger.Script.ScriptStructure</a> <a id="2555" href="Ledger.Transaction.html#2458" class="Field">ss</a> <a id="2558" class="Keyword">public</a>

  <a id="2568" class="Keyword">open</a> <a id="2573" class="Keyword">import</a> <a id="2580" href="Ledger.PParams.html" class="Module">Ledger.PParams</a> <a id="2595" href="Ledger.Epoch.html#593" class="Function">Epoch</a>

  <a id="2604" class="Keyword">open</a> <a id="2609" href="Ledger.PParams.html#644" class="Module">PParamsDiff</a> <a id="2621" href="Ledger.Transaction.html#1804" class="Field">ppUpd</a> <a id="2627" class="Keyword">renaming</a> <a id="2636" class="Symbol">(</a><a id="2637" href="Ledger.PParams.html#677" class="Field">UpdateT</a> <a id="2645" class="Symbol">to</a> <a id="2648" class="Field">PParamsUpdate</a><a id="2661" class="Symbol">)</a> <a id="2663" class="Keyword">public</a>

  <a id="2673" class="Keyword">open</a> <a id="2678" class="Keyword">import</a> <a id="2685" href="Ledger.Address.html" class="Module">Ledger.Address</a> <a id="2700" href="Ledger.Epoch.html#337" class="Function">Network</a> <a id="2708" href="Ledger.Crypto.html#1812" class="Function">KeyHash</a> <a id="2716" href="Ledger.Crypto.html#1750" class="Function">ScriptHash</a> <a id="2727" class="Keyword">public</a>
<a id="2734" class="Markup">\end{code}</a><a id="2744" class="Background">
\emph{Derived types}
\AgdaTarget{TxIn, TxOut, UTxO, Wdrl}
</a><a id="2803" class="Markup">\begin{code}</a>
  <a id="TransactionStructure.TxIn"></a><a id="2818" href="Ledger.Transaction.html#2818" class="Function">TxIn</a>  <a id="2824" class="Symbol">=</a> <a id="2826" href="Ledger.Transaction.html#1400" class="Field">TxId</a> <a id="2831" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="2833" href="Ledger.Transaction.html#1397" class="Field">Ix</a>
  <a id="TransactionStructure.TxOut"></a><a id="2838" href="Ledger.Transaction.html#2838" class="Function">TxOut</a> <a id="2844" class="Symbol">=</a> <a id="2846" href="Ledger.Address.html#1309" class="Function">Addr</a> <a id="2851" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="2853" href="Ledger.TokenAlgebra.html#521" class="Function">Value</a>
  <a id="TransactionStructure.UTxO"></a><a id="2861" href="Ledger.Transaction.html#2861" class="Function">UTxO</a>  <a id="2867" class="Symbol">=</a> <a id="2869" href="Ledger.Transaction.html#2818" class="Function">TxIn</a> <a id="2874" href="Ledger.Prelude.html#1835" class="Function Operator">↛</a> <a id="2876" href="Ledger.Transaction.html#2838" class="Function">TxOut</a>
  <a id="TransactionStructure.Wdrl"></a><a id="2884" href="Ledger.Transaction.html#2884" class="Function">Wdrl</a>  <a id="2890" class="Symbol">=</a> <a id="2892" href="Ledger.Address.html#1237" class="Record">RwdAddr</a> <a id="2900" href="Ledger.Prelude.html#1835" class="Function Operator">↛</a> <a id="2902" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>

  <a id="TransactionStructure.ProposedPPUpdates"></a><a id="2910" href="Ledger.Transaction.html#2910" class="Function">ProposedPPUpdates</a> <a id="2928" class="Symbol">=</a> <a id="2930" href="Ledger.Crypto.html#1812" class="Function">KeyHash</a> <a id="2938" href="Ledger.Prelude.html#1835" class="Function Operator">↛</a> <a id="2940" href="Ledger.Transaction.html#2648" class="Function">PParamsUpdate</a>
  <a id="TransactionStructure.Update"></a><a id="2956" href="Ledger.Transaction.html#2956" class="Function">Update</a>            <a id="2974" class="Symbol">=</a> <a id="2976" href="Ledger.Transaction.html#2910" class="Function">ProposedPPUpdates</a> <a id="2994" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="2996" href="Ledger.Epoch.html#593" class="Function">Epoch</a>
<a id="3002" class="Markup">\end{code}</a><a id="3012" class="Background">
\emph{Transaction types}
\AgdaTarget{TxBody, txins, txouts, txfee, txvldt, txwdrls, txup, txADhash, txsize, txid, TxWitnesses, vkSigs, scripts, Tx, body, wits, txAD}
</a><a id="3179" class="Markup">\begin{code}</a>
  <a id="3194" class="Keyword">record</a> <a id="TransactionStructure.TxBody"></a><a id="3201" href="Ledger.Transaction.html#3201" class="Record">TxBody</a> <a id="3208" class="Symbol">:</a> <a id="3210" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3214" class="Keyword">where</a>
    <a id="3224" class="Keyword">field</a> <a id="3230" href="Ledger.Transaction.html#3230" class="Field">txins</a>      <a id="3241" class="Symbol">:</a> <a id="3243" href="Ledger.Prelude.html#1236" class="Function Operator">ℙ</a> <a id="3245" href="Ledger.Transaction.html#2818" class="Function">TxIn</a>
          <a id="3260" href="Ledger.Transaction.html#3260" class="Field">txouts</a>     <a id="3271" class="Symbol">:</a> <a id="3273" href="Ledger.Transaction.html#1397" class="Field">Ix</a> <a id="3276" href="Ledger.Prelude.html#1835" class="Function Operator">↛</a> <a id="3278" href="Ledger.Transaction.html#2838" class="Function">TxOut</a>
          <a id="3294" class="Comment">--txcerts  : List DCert</a>
          <a id="3328" href="Ledger.Transaction.html#3328" class="Field">mint</a>       <a id="3339" class="Symbol">:</a> <a id="3341" href="Ledger.TokenAlgebra.html#521" class="Function">Value</a>
          <a id="3357" href="Ledger.Transaction.html#3357" class="Field">txfee</a>      <a id="3368" class="Symbol">:</a> <a id="3370" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
          <a id="3385" href="Ledger.Transaction.html#3385" class="Field">txvldt</a>     <a id="3396" class="Symbol">:</a> <a id="3398" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3404" href="Ledger.Epoch.html#608" class="Function">Slot</a> <a id="3409" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="3411" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3417" href="Ledger.Epoch.html#608" class="Function">Slot</a>
          <a id="3432" href="Ledger.Transaction.html#3432" class="Field">txwdrls</a>    <a id="3443" class="Symbol">:</a> <a id="3445" href="Ledger.Transaction.html#2884" class="Function">Wdrl</a>
          <a id="3460" href="Ledger.Transaction.html#3460" class="Field">txup</a>       <a id="3471" class="Symbol">:</a> <a id="3473" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3479" href="Ledger.Transaction.html#2956" class="Function">Update</a>
          <a id="3496" href="Ledger.Transaction.html#3496" class="Field">txADhash</a>   <a id="3507" class="Symbol">:</a> <a id="3509" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3515" href="Ledger.Transaction.html#2434" class="Function">ADHash</a>
          <a id="3532" href="Ledger.Transaction.html#3532" class="Field">netwrk</a>     <a id="3543" class="Symbol">:</a> <a id="3545" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3551" href="Ledger.Epoch.html#337" class="Function">Network</a>
          <a id="3569" href="Ledger.Transaction.html#3569" class="Field">txsize</a>     <a id="3580" class="Symbol">:</a> <a id="3582" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
          <a id="3594" href="Ledger.Transaction.html#3594" class="Field">txid</a>       <a id="3605" class="Symbol">:</a> <a id="3607" href="Ledger.Transaction.html#1400" class="Field">TxId</a>

  <a id="3615" class="Keyword">record</a> <a id="TransactionStructure.TxWitnesses"></a><a id="3622" href="Ledger.Transaction.html#3622" class="Record">TxWitnesses</a> <a id="3634" class="Symbol">:</a> <a id="3636" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3640" class="Keyword">where</a>
    <a id="3650" class="Keyword">field</a> <a id="3656" href="Ledger.Transaction.html#3656" class="Field">vkSigs</a>   <a id="3665" class="Symbol">:</a> <a id="3667" href="Ledger.Crypto.html#929" class="Function">VKey</a> <a id="3672" href="Ledger.Prelude.html#1835" class="Function Operator">↛</a> <a id="3674" href="Ledger.Crypto.html#934" class="Function">Sig</a>
          <a id="3688" href="Ledger.Transaction.html#3688" class="Field">scripts</a>  <a id="3697" class="Symbol">:</a> <a id="3699" href="Ledger.Prelude.html#1236" class="Function Operator">ℙ</a> <a id="3701" href="Ledger.Script.html#1510" class="Function">Script</a>

  <a id="3711" class="Keyword">record</a> <a id="TransactionStructure.Tx"></a><a id="3718" href="Ledger.Transaction.html#3718" class="Record">Tx</a> <a id="3721" class="Symbol">:</a> <a id="3723" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3727" class="Keyword">where</a>
    <a id="3737" class="Keyword">field</a> <a id="3743" href="Ledger.Transaction.html#3743" class="Field">body</a>  <a id="3749" class="Symbol">:</a> <a id="3751" href="Ledger.Transaction.html#3201" class="Record">TxBody</a>
          <a id="3768" href="Ledger.Transaction.html#3768" class="Field">wits</a>  <a id="3774" class="Symbol">:</a> <a id="3776" href="Ledger.Transaction.html#3622" class="Record">TxWitnesses</a>
          <a id="3798" href="Ledger.Transaction.html#3798" class="Field">txAD</a>  <a id="3804" class="Symbol">:</a> <a id="3806" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3812" href="Ledger.Transaction.html#1405" class="Field">AuxiliaryData</a>
<a id="3826" class="Markup">\end{code}</a><a id="3836" class="Background">
\emph{Abstract functions}
</a><a id="3863" class="Markup">\begin{code}</a>
<a id="3876" class="Markup">\end{code}</a><a id="3886" class="Background">
\caption{Definitions used in the UTxO transition system}
\label{fig:defs:utxo-shelley}
\end{figure*}

</a><a id="3989" class="Markup">\begin{code}</a>
  <a id="TransactionStructure.getValue"></a><a id="4004" href="Ledger.Transaction.html#4004" class="Function">getValue</a> <a id="4013" class="Symbol">:</a> <a id="4015" href="Ledger.Transaction.html#2838" class="Function">TxOut</a> <a id="4021" class="Symbol">→</a> <a id="4023" href="Ledger.TokenAlgebra.html#521" class="Function">Value</a>
  <a id="4031" href="Ledger.Transaction.html#4004" class="Function">getValue</a> <a id="4040" class="Symbol">(</a><a id="4041" href="Ledger.Transaction.html#4041" class="Bound">fst</a> <a id="4045" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4047" href="Ledger.Transaction.html#4047" class="Bound">snd</a><a id="4050" class="Symbol">)</a> <a id="4052" class="Symbol">=</a> <a id="4054" href="Ledger.Transaction.html#4047" class="Bound">snd</a>

  <a id="TransactionStructure.txinsVKey"></a><a id="4061" href="Ledger.Transaction.html#4061" class="Function">txinsVKey</a> <a id="4071" class="Symbol">:</a> <a id="4073" href="Ledger.Prelude.html#1236" class="Function Operator">ℙ</a> <a id="4075" href="Ledger.Transaction.html#2818" class="Function">TxIn</a> <a id="4080" class="Symbol">→</a> <a id="4082" href="Ledger.Transaction.html#2861" class="Function">UTxO</a> <a id="4087" class="Symbol">→</a> <a id="4089" href="Ledger.Prelude.html#1236" class="Function Operator">ℙ</a> <a id="4091" href="Ledger.Transaction.html#2818" class="Function">TxIn</a>
  <a id="4098" href="Ledger.Transaction.html#4061" class="Function">txinsVKey</a> <a id="4108" href="Ledger.Transaction.html#4108" class="Bound">txins</a> <a id="4114" href="Ledger.Transaction.html#4114" class="Bound">utxo</a> <a id="4119" class="Symbol">=</a> <a id="4121" href="Ledger.Transaction.html#4108" class="Bound">txins</a> <a id="4127" href="Axiom.Set.html#5383" class="Function Operator">∩</a> <a id="4129" href="Axiom.Set.Rel.html#1257" class="Function">dom</a> <a id="4133" class="Symbol">((</a><a id="4135" href="Ledger.Transaction.html#4114" class="Bound">utxo</a> <a id="4140" href="Axiom.Set.Map.html#4699" class="Function Operator">∣^&#39;</a> <a id="4144" href="Ledger.Prelude.html#1278" class="Function">to-sp</a> <a id="4150" class="Symbol">(</a><a id="4151" href="Ledger.Address.html#2385" class="Function">isVKeyAddr?</a> <a id="4163" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="4165" href="Data.Product.Base.html#608" class="Field">proj₁</a><a id="4170" class="Symbol">))</a> <a id="4173" href="Axiom.Set.Map.html#1686" class="Function Operator">ˢ</a><a id="4174" class="Symbol">)</a>
<a id="4176" class="Markup">\end{code}</a><a id="4186" class="Background">
</a><a id="4187" class="Markup">\begin{code}[hide]</a>
  <a id="4208" class="Keyword">instance</a>
    <a id="TransactionStructure.HasCoin-TxOut"></a><a id="4221" href="Ledger.Transaction.html#4221" class="Function">HasCoin-TxOut</a> <a id="4235" class="Symbol">:</a> <a id="4237" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="4245" href="Ledger.Transaction.html#2838" class="Function">TxOut</a>
    <a id="4255" href="Ledger.Transaction.html#4221" class="Function">HasCoin-TxOut</a> <a id="4269" class="Symbol">.</a><a id="4270" href="Ledger.Interface.HasCoin.html#170" class="Field">getCoin</a> <a id="4278" class="Symbol">=</a> <a id="4280" href="Ledger.TokenAlgebra.html#572" class="Function">coin</a> <a id="4285" href="Function.Base.html#1106" class="Function Operator">∘</a> <a id="4287" href="Data.Product.Base.html#622" class="Field">proj₂</a>
<a id="4293" class="Markup">\end{code}</a><a id="4303" class="Background">
</a></pre></body></html>