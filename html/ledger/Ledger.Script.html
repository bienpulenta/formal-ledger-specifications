<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Script</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">\section{Scripts}
</a><a id="19" class="Markup">\begin{code}[hide]</a>
<a id="38" class="Symbol">{-#</a> <a id="42" class="Keyword">OPTIONS</a> <a id="50" class="Pragma">--safe</a> <a id="57" class="Symbol">#-}</a>

<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="89" class="Keyword">hiding</a> <a id="96" class="Symbol">(</a><a id="97" href="Axiom.Set.html#5743" class="Function">All</a><a id="100" class="Symbol">;</a> <a id="102" href="Axiom.Set.html#5812" class="Function">Any</a><a id="105" class="Symbol">)</a>

<a id="108" class="Keyword">module</a> <a id="115" href="Ledger.Script.html" class="Module">Ledger.Script</a> <a id="129" class="Symbol">(</a><a id="130" href="Ledger.Script.html#130" class="Bound">KeyHash</a> <a id="138" href="Ledger.Script.html#138" class="Bound">ScriptHash</a> <a id="149" href="Ledger.Script.html#149" class="Bound">Slot</a> <a id="154" class="Symbol">:</a> <a id="156" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="159" class="Symbol">)</a> <a id="161" class="Symbol">⦃</a> <a id="163" href="Ledger.Script.html#163" class="Bound">_</a> <a id="165" class="Symbol">:</a> <a id="167" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="173" href="Ledger.Script.html#130" class="Bound">KeyHash</a> <a id="181" class="Symbol">⦄</a> <a id="183" class="Keyword">where</a>

<a id="190" class="Keyword">open</a> <a id="195" class="Keyword">import</a> <a id="202" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a>
<a id="231" class="Keyword">open</a> <a id="236" class="Keyword">import</a> <a id="243" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>
<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="Data.List.Relation.Binary.Sublist.Propositional.html" class="Module">Data.List.Relation.Binary.Sublist.Propositional</a> <a id="332" class="Symbol">as</a> <a id="335" class="Module">S</a>

<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Ledger.Crypto.html" class="Module">Ledger.Crypto</a>

<a id="365" class="Keyword">open</a> <a id="370" class="Keyword">import</a> <a id="377" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="MyDebugOptions.html" class="Module">MyDebugOptions</a>

<a id="425" class="Keyword">record</a> <a id="P1ScriptStructure"></a><a id="432" href="Ledger.Script.html#432" class="Record">P1ScriptStructure</a> <a id="450" class="Symbol">:</a> <a id="452" href="Agda.Primitive.html#320" class="Primitive">Set₁</a> <a id="457" class="Keyword">where</a>
  <a id="465" class="Keyword">field</a> <a id="P1ScriptStructure.P1Script"></a><a id="471" href="Ledger.Script.html#471" class="Field">P1Script</a> <a id="480" class="Symbol">:</a> <a id="482" href="Agda.Primitive.html#320" class="Primitive">Set</a>
        <a id="P1ScriptStructure.validP1Script"></a><a id="494" href="Ledger.Script.html#494" class="Field">validP1Script</a> <a id="508" class="Symbol">:</a> <a id="510" href="Ledger.Prelude.html#1236" class="Function Operator">ℙ</a> <a id="512" href="Ledger.Script.html#130" class="Bound">KeyHash</a> <a id="520" class="Symbol">→</a> <a id="522" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="528" href="Ledger.Script.html#149" class="Bound">Slot</a> <a id="533" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="535" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="541" href="Ledger.Script.html#149" class="Bound">Slot</a> <a id="546" class="Symbol">→</a> <a id="548" href="Ledger.Script.html#471" class="Field">P1Script</a> <a id="557" class="Symbol">→</a> <a id="559" href="Agda.Primitive.html#320" class="Primitive">Set</a>
        <a id="P1ScriptStructure.validP1Script?"></a><a id="571" href="Ledger.Script.html#571" class="Field">validP1Script?</a> <a id="586" class="Symbol">:</a> <a id="588" class="Symbol">∀</a> <a id="590" href="Ledger.Script.html#590" class="Bound">khs</a> <a id="594" href="Ledger.Script.html#594" class="Bound">I</a> <a id="596" href="Ledger.Script.html#596" class="Bound">s</a> <a id="598" class="Symbol">→</a> <a id="600" href="Relation.Nullary.Decidable.Core.html#1476" class="Record">Dec</a> <a id="604" class="Symbol">(</a><a id="605" href="Ledger.Script.html#494" class="Field">validP1Script</a> <a id="619" href="Ledger.Script.html#590" class="Bound">khs</a> <a id="623" href="Ledger.Script.html#594" class="Bound">I</a> <a id="625" href="Ledger.Script.html#596" class="Bound">s</a><a id="626" class="Symbol">)</a>
        <a id="636" class="Keyword">instance</a> <a id="P1ScriptStructure.Hashable-P1Script"></a><a id="645" href="Ledger.Script.html#645" class="Field">Hashable-P1Script</a> <a id="663" class="Symbol">:</a> <a id="665" href="Interface.Hashable.html#64" class="Record">Hashable</a> <a id="674" href="Ledger.Script.html#471" class="Field">P1Script</a> <a id="683" href="Ledger.Script.html#138" class="Bound">ScriptHash</a>
                 <a id="P1ScriptStructure.DecEq-P1Script"></a><a id="711" href="Ledger.Script.html#711" class="Field">DecEq-P1Script</a>    <a id="729" class="Symbol">:</a> <a id="731" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="737" href="Ledger.Script.html#471" class="Field">P1Script</a>

<a id="747" class="Keyword">record</a> <a id="PlutusStructure"></a><a id="754" href="Ledger.Script.html#754" class="Record">PlutusStructure</a> <a id="770" class="Symbol">:</a> <a id="772" href="Agda.Primitive.html#320" class="Primitive">Set₁</a> <a id="777" class="Keyword">where</a>
  <a id="785" class="Keyword">field</a> <a id="PlutusStructure.Dataʰ"></a><a id="791" href="Ledger.Script.html#791" class="Field">Dataʰ</a> <a id="797" class="Symbol">:</a> <a id="799" href="Ledger.Crypto.html#617" class="Record">HashableSet</a>
        <a id="PlutusStructure.PlutusScript"></a><a id="819" href="Ledger.Script.html#819" class="Field">PlutusScript</a> <a id="PlutusStructure.ExUnits"></a><a id="832" href="Ledger.Script.html#832" class="Field">ExUnits</a> <a id="PlutusStructure.CostModel"></a><a id="840" href="Ledger.Script.html#840" class="Field">CostModel</a> <a id="850" class="Symbol">:</a> <a id="852" href="Agda.Primitive.html#320" class="Primitive">Set</a>
        <a id="864" class="Keyword">instance</a> <a id="PlutusStructure.Hashable-PlutusScript"></a><a id="873" href="Ledger.Script.html#873" class="Field">Hashable-PlutusScript</a> <a id="895" class="Symbol">:</a> <a id="897" href="Interface.Hashable.html#64" class="Record">Hashable</a> <a id="906" href="Ledger.Script.html#819" class="Field">PlutusScript</a> <a id="919" href="Ledger.Script.html#138" class="Bound">ScriptHash</a>
                 <a id="PlutusStructure.DecEq-PlutusScript"></a><a id="947" href="Ledger.Script.html#947" class="Field">DecEq-PlutusScript</a>    <a id="969" class="Symbol">:</a> <a id="971" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="977" href="Ledger.Script.html#819" class="Field">PlutusScript</a>

  <a id="993" class="Keyword">open</a> <a id="998" href="Ledger.Crypto.html#617" class="Module">HashableSet</a> <a id="1010" href="Ledger.Script.html#791" class="Field">Dataʰ</a> <a id="1016" class="Keyword">renaming</a> <a id="1025" class="Symbol">(</a><a id="1026" href="Ledger.Crypto.html#650" class="Field">T</a> <a id="1028" class="Symbol">to</a> <a id="1031" class="Field">Data</a><a id="1035" class="Symbol">;</a> <a id="1037" href="Ledger.Crypto.html#235" class="Function">THash</a> <a id="1043" class="Symbol">to</a> <a id="1046" class="Function">DataHash</a><a id="1054" class="Symbol">)</a> <a id="1056" class="Keyword">public</a>

  <a id="1066" class="Keyword">field</a> <a id="PlutusStructure.validPlutusScript"></a><a id="1072" href="Ledger.Script.html#1072" class="Field">validPlutusScript</a> <a id="1090" class="Symbol">:</a> <a id="1092" href="Ledger.Script.html#840" class="Field">CostModel</a> <a id="1102" class="Symbol">→</a> <a id="1104" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1109" href="Ledger.Script.html#1031" class="Function">Data</a> <a id="1114" class="Symbol">→</a> <a id="1116" href="Ledger.Script.html#832" class="Field">ExUnits</a> <a id="1124" class="Symbol">→</a> <a id="1126" href="Ledger.Script.html#819" class="Field">PlutusScript</a> <a id="1139" class="Symbol">→</a> <a id="1141" href="Agda.Primitive.html#320" class="Primitive">Set</a>
        <a id="PlutusStructure.validPlutusScript?"></a><a id="1153" href="Ledger.Script.html#1153" class="Field">validPlutusScript?</a> <a id="1172" class="Symbol">:</a> <a id="1174" class="Symbol">∀</a> <a id="1176" href="Ledger.Script.html#1176" class="Bound">cm</a> <a id="1179" href="Ledger.Script.html#1179" class="Bound">ds</a> <a id="1182" href="Ledger.Script.html#1182" class="Bound">eu</a> <a id="1185" href="Ledger.Script.html#1185" class="Bound">s</a> <a id="1187" class="Symbol">→</a> <a id="1189" href="Relation.Nullary.Decidable.Core.html#1476" class="Record">Dec</a> <a id="1193" class="Symbol">(</a><a id="1194" href="Ledger.Script.html#1072" class="Field">validPlutusScript</a> <a id="1212" href="Ledger.Script.html#1176" class="Bound">cm</a> <a id="1215" href="Ledger.Script.html#1179" class="Bound">ds</a> <a id="1218" href="Ledger.Script.html#1182" class="Bound">eu</a> <a id="1221" href="Ledger.Script.html#1185" class="Bound">s</a><a id="1222" class="Symbol">)</a>

<a id="1225" class="Keyword">record</a> <a id="ScriptStructure"></a><a id="1232" href="Ledger.Script.html#1232" class="Record">ScriptStructure</a> <a id="1248" class="Symbol">:</a> <a id="1250" href="Agda.Primitive.html#320" class="Primitive">Set₁</a> <a id="1255" class="Keyword">where</a>
  <a id="1263" class="Keyword">field</a> <a id="ScriptStructure.p1s"></a><a id="1269" href="Ledger.Script.html#1269" class="Field">p1s</a> <a id="1273" class="Symbol">:</a> <a id="1275" href="Ledger.Script.html#432" class="Record">P1ScriptStructure</a>
        <a id="ScriptStructure.ps"></a><a id="1301" href="Ledger.Script.html#1301" class="Field">ps</a>  <a id="1305" class="Symbol">:</a> <a id="1307" href="Ledger.Script.html#754" class="Record">PlutusStructure</a>

  <a id="1326" class="Keyword">open</a> <a id="1331" href="Ledger.Script.html#432" class="Module">P1ScriptStructure</a> <a id="1349" href="Ledger.Script.html#1269" class="Field">p1s</a> <a id="1353" class="Keyword">public</a>
  <a id="1362" class="Keyword">open</a> <a id="1367" href="Ledger.Script.html#754" class="Module">PlutusStructure</a> <a id="1383" href="Ledger.Script.html#1301" class="Field">ps</a> <a id="1386" class="Keyword">public</a> <a id="1393" class="Keyword">renaming</a>
    <a id="1406" class="Symbol">(</a><a id="1407" href="Ledger.Script.html#819" class="Field">PlutusScript</a> <a id="1420" class="Symbol">to</a> <a id="1423" class="Field">P2Script</a><a id="1431" class="Symbol">;</a> <a id="1433" href="Ledger.Script.html#1072" class="Field">validPlutusScript</a> <a id="1451" class="Symbol">to</a> <a id="1454" class="Field">validP2Script</a><a id="1467" class="Symbol">;</a> <a id="1469" href="Ledger.Script.html#1153" class="Field">validPlutusScript?</a> <a id="1488" class="Symbol">to</a> <a id="1491" class="Field">validP2Script?</a><a id="1505" class="Symbol">)</a>

  <a id="ScriptStructure.Script"></a><a id="1510" href="Ledger.Script.html#1510" class="Function">Script</a> <a id="1517" class="Symbol">=</a> <a id="1519" href="Ledger.Script.html#471" class="Function">P1Script</a> <a id="1528" href="Data.Sum.Base.html#616" class="Datatype Operator">⊎</a> <a id="1530" href="Ledger.Script.html#1423" class="Function">P2Script</a>

  <a id="1542" class="Keyword">instance</a>
    <a id="ScriptStructure.Hashable-Script"></a><a id="1555" href="Ledger.Script.html#1555" class="Function">Hashable-Script</a> <a id="1571" class="Symbol">:</a> <a id="1573" href="Interface.Hashable.html#64" class="Record">Hashable</a> <a id="1582" href="Ledger.Script.html#1510" class="Function">Script</a> <a id="1589" href="Ledger.Script.html#138" class="Bound">ScriptHash</a>
    <a id="1604" href="Ledger.Script.html#1555" class="Function">Hashable-Script</a> <a id="1620" class="Symbol">.</a><a id="1621" href="Interface.Hashable.html#109" class="Field">hash</a> <a id="1626" class="Symbol">(</a><a id="1627" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a> <a id="1632" href="Ledger.Script.html#1632" class="Bound">s</a><a id="1633" class="Symbol">)</a> <a id="1635" class="Symbol">=</a> <a id="1637" href="Interface.Hashable.html#109" class="Field">hash</a> <a id="1642" href="Ledger.Script.html#1632" class="Bound">s</a>
    <a id="1648" href="Ledger.Script.html#1555" class="Function">Hashable-Script</a> <a id="1664" class="Symbol">.</a><a id="1665" href="Interface.Hashable.html#109" class="Field">hash</a> <a id="1670" class="Symbol">(</a><a id="1671" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a> <a id="1676" href="Ledger.Script.html#1676" class="Bound">s</a><a id="1677" class="Symbol">)</a> <a id="1679" class="Symbol">=</a> <a id="1681" href="Interface.Hashable.html#109" class="Field">hash</a> <a id="1686" href="Ledger.Script.html#1676" class="Bound">s</a>
<a id="1688" class="Markup">\end{code}</a><a id="1698" class="Background">
We define Timelock scripts here. They can verify the presence of keys and whether a transaction happens in a certain slot interval. These scripts are executed as part of the regular witnessing.
\begin{figure*}[h]
</a><a id="1912" class="Markup">\begin{code}</a>
<a id="1925" class="Keyword">data</a> <a id="Timelock"></a><a id="1930" href="Ledger.Script.html#1930" class="Datatype">Timelock</a> <a id="1939" class="Symbol">:</a> <a id="1941" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1945" class="Keyword">where</a>
  <a id="Timelock.RequireAllOf"></a><a id="1953" href="Ledger.Script.html#1953" class="InductiveConstructor">RequireAllOf</a>       <a id="1972" class="Symbol">:</a> <a id="1974" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1979" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>      <a id="1993" class="Symbol">→</a> <a id="1995" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>
  <a id="Timelock.RequireAnyOf"></a><a id="2006" href="Ledger.Script.html#2006" class="InductiveConstructor">RequireAnyOf</a>       <a id="2025" class="Symbol">:</a> <a id="2027" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2032" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>      <a id="2046" class="Symbol">→</a> <a id="2048" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>
  <a id="Timelock.RequireMOf"></a><a id="2059" href="Ledger.Script.html#2059" class="InductiveConstructor">RequireMOf</a>         <a id="2078" class="Symbol">:</a> <a id="2080" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2082" class="Symbol">→</a> <a id="2084" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2089" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>  <a id="2099" class="Symbol">→</a> <a id="2101" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>
  <a id="Timelock.RequireSig"></a><a id="2112" href="Ledger.Script.html#2112" class="InductiveConstructor">RequireSig</a>         <a id="2131" class="Symbol">:</a> <a id="2133" href="Ledger.Script.html#130" class="Bound">KeyHash</a>            <a id="2152" class="Symbol">→</a> <a id="2154" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>
  <a id="Timelock.RequireTimeStart"></a><a id="2165" href="Ledger.Script.html#2165" class="InductiveConstructor">RequireTimeStart</a>   <a id="2184" class="Symbol">:</a> <a id="2186" href="Ledger.Script.html#149" class="Bound">Slot</a>               <a id="2205" class="Symbol">→</a> <a id="2207" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>
  <a id="Timelock.RequireTimeExpire"></a><a id="2218" href="Ledger.Script.html#2218" class="InductiveConstructor">RequireTimeExpire</a>  <a id="2237" class="Symbol">:</a> <a id="2239" href="Ledger.Script.html#149" class="Bound">Slot</a>               <a id="2258" class="Symbol">→</a> <a id="2260" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>
<a id="2269" class="Markup">\end{code}</a><a id="2279" class="Background">
</a><a id="2280" class="Markup">\begin{code}[hide]</a>
<a id="2299" class="Keyword">module</a> <a id="2306" href="Ledger.Script.html#2306" class="Module">_</a> <a id="2308" class="Symbol">⦃</a> <a id="2310" href="Ledger.Script.html#2310" class="Bound">_</a> <a id="2312" class="Symbol">:</a> <a id="2314" href="Interface.DecEq.html#185" class="Record">DecEq</a> <a id="2320" href="Ledger.Script.html#149" class="Bound">Slot</a> <a id="2325" class="Symbol">⦄</a> <a id="2327" class="Symbol">(</a><a id="2328" href="Ledger.Script.html#2328" class="Bound Operator">_≤_</a> <a id="2332" class="Symbol">:</a> <a id="2334" href="Ledger.Script.html#149" class="Bound">Slot</a> <a id="2339" class="Symbol">→</a> <a id="2341" href="Ledger.Script.html#149" class="Bound">Slot</a> <a id="2346" class="Symbol">→</a> <a id="2348" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="2351" class="Symbol">)</a> <a id="2353" class="Symbol">(</a><a id="2354" href="Ledger.Script.html#2354" class="Bound Operator">_≤ᵇ_</a> <a id="2359" class="Symbol">:</a> <a id="2361" href="Ledger.Script.html#149" class="Bound">Slot</a> <a id="2366" class="Symbol">→</a> <a id="2368" href="Ledger.Script.html#149" class="Bound">Slot</a> <a id="2373" class="Symbol">→</a> <a id="2375" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a><a id="2379" class="Symbol">)</a> <a id="2381" class="Keyword">where</a>
  <a id="2389" class="Keyword">private</a> <a id="2397" class="Keyword">variable</a> <a id="2406" href="Ledger.Script.html#2406" class="Generalizable">s</a> <a id="2408" class="Symbol">:</a> <a id="2410" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>
                   <a id="2438" href="Ledger.Script.html#2438" class="Generalizable">ss</a> <a id="2441" href="Ledger.Script.html#2441" class="Generalizable">ss&#39;</a> <a id="2445" class="Symbol">:</a> <a id="2447" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2452" href="Ledger.Script.html#1930" class="Datatype">Timelock</a>
                   <a id="2480" href="Ledger.Script.html#2480" class="Generalizable">k</a> <a id="2482" class="Symbol">:</a> <a id="2484" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
                   <a id="2505" href="Ledger.Script.html#2505" class="Generalizable">x</a> <a id="2507" class="Symbol">:</a> <a id="2509" href="Ledger.Script.html#130" class="Bound">KeyHash</a>
                   <a id="2536" href="Ledger.Script.html#2536" class="Generalizable">a</a> <a id="2538" href="Ledger.Script.html#2538" class="Generalizable">l</a> <a id="2540" href="Ledger.Script.html#2540" class="Generalizable">r</a> <a id="2542" class="Symbol">:</a> <a id="2544" href="Ledger.Script.html#149" class="Bound">Slot</a>
<a id="2549" class="Markup">\end{code}</a><a id="2559" class="Background">
</a><a id="2560" class="Markup">\begin{code}</a>
  <a id="2575" class="Keyword">data</a> <a id="2580" href="Ledger.Script.html#2580" class="Datatype">evalTimelock</a> <a id="2593" class="Symbol">(</a><a id="2594" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="2598" class="Symbol">:</a> <a id="2600" href="Ledger.Prelude.html#1236" class="Function Operator">ℙ</a> <a id="2602" href="Ledger.Script.html#130" class="Bound">KeyHash</a><a id="2609" class="Symbol">)</a> <a id="2611" class="Symbol">(</a><a id="2612" href="Ledger.Script.html#2612" class="Bound">I</a> <a id="2614" class="Symbol">:</a> <a id="2616" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2622" href="Ledger.Script.html#149" class="Bound">Slot</a> <a id="2627" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="2629" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2635" href="Ledger.Script.html#149" class="Bound">Slot</a><a id="2639" class="Symbol">)</a> <a id="2641" class="Symbol">:</a> <a id="2643" href="Ledger.Script.html#1930" class="Datatype">Timelock</a> <a id="2652" class="Symbol">→</a> <a id="2654" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2658" class="Keyword">where</a>
    <a id="2668" href="Ledger.Script.html#2668" class="InductiveConstructor">evalAll</a> <a id="2676" class="Symbol">:</a> <a id="2678" href="Data.List.Relation.Unary.All.html#1439" class="Datatype">All</a> <a id="2682" class="Symbol">(</a><a id="2683" href="Ledger.Script.html#2580" class="Datatype">evalTimelock</a> <a id="2696" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="2700" href="Ledger.Script.html#2612" class="Bound">I</a><a id="2701" class="Symbol">)</a> <a id="2703" href="Ledger.Script.html#2438" class="Generalizable">ss</a> <a id="2706" class="Symbol">→</a> <a id="2708" href="Ledger.Script.html#2580" class="Datatype">evalTimelock</a> <a id="2721" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="2725" href="Ledger.Script.html#2612" class="Bound">I</a> <a id="2727" class="Symbol">(</a><a id="2728" href="Ledger.Script.html#1953" class="InductiveConstructor">RequireAllOf</a> <a id="2741" href="Ledger.Script.html#2438" class="Generalizable">ss</a><a id="2743" class="Symbol">)</a>
    <a id="2749" href="Ledger.Script.html#2749" class="InductiveConstructor">evalAny</a> <a id="2757" class="Symbol">:</a> <a id="2759" href="Data.List.Relation.Unary.Any.html#1139" class="Datatype">Any</a> <a id="2763" class="Symbol">(</a><a id="2764" href="Ledger.Script.html#2580" class="Datatype">evalTimelock</a> <a id="2777" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="2781" href="Ledger.Script.html#2612" class="Bound">I</a><a id="2782" class="Symbol">)</a> <a id="2784" href="Ledger.Script.html#2438" class="Generalizable">ss</a> <a id="2787" class="Symbol">→</a> <a id="2789" href="Ledger.Script.html#2580" class="Datatype">evalTimelock</a> <a id="2802" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="2806" href="Ledger.Script.html#2612" class="Bound">I</a> <a id="2808" class="Symbol">(</a><a id="2809" href="Ledger.Script.html#2006" class="InductiveConstructor">RequireAnyOf</a> <a id="2822" href="Ledger.Script.html#2438" class="Generalizable">ss</a><a id="2824" class="Symbol">)</a>
    <a id="2830" href="Ledger.Script.html#2830" class="InductiveConstructor">evalMOf</a> <a id="2838" class="Symbol">:</a> <a id="2840" href="Ledger.Script.html#2441" class="Generalizable">ss&#39;</a> <a id="2844" href="Data.List.Relation.Binary.Sublist.Setoid.html#1349" class="Function Operator">S.⊆</a> <a id="2848" href="Ledger.Script.html#2438" class="Generalizable">ss</a> <a id="2851" class="Symbol">→</a> <a id="2853" href="Data.List.Relation.Unary.All.html#1439" class="Datatype">All</a> <a id="2857" class="Symbol">(</a><a id="2858" href="Ledger.Script.html#2580" class="Datatype">evalTimelock</a> <a id="2871" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="2875" href="Ledger.Script.html#2612" class="Bound">I</a><a id="2876" class="Symbol">)</a> <a id="2878" href="Ledger.Script.html#2441" class="Generalizable">ss&#39;</a> <a id="2882" class="Symbol">→</a> <a id="2884" href="Ledger.Script.html#2580" class="Datatype">evalTimelock</a> <a id="2897" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="2901" href="Ledger.Script.html#2612" class="Bound">I</a> <a id="2903" class="Symbol">(</a><a id="2904" href="Ledger.Script.html#2059" class="InductiveConstructor">RequireMOf</a> <a id="2915" class="Symbol">(</a><a id="2916" href="Data.List.Base.html#5058" class="Function">length</a> <a id="2923" href="Ledger.Script.html#2441" class="Generalizable">ss&#39;</a><a id="2926" class="Symbol">)</a> <a id="2928" href="Ledger.Script.html#2438" class="Generalizable">ss</a><a id="2930" class="Symbol">)</a>
    <a id="2936" href="Ledger.Script.html#2936" class="InductiveConstructor">evalSig</a> <a id="2944" class="Symbol">:</a> <a id="2946" href="Ledger.Script.html#2505" class="Generalizable">x</a> <a id="2948" href="Axiom.Set.html#1496" class="Function Operator">∈</a> <a id="2950" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="2954" class="Symbol">→</a> <a id="2956" href="Ledger.Script.html#2580" class="Datatype">evalTimelock</a> <a id="2969" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="2973" href="Ledger.Script.html#2612" class="Bound">I</a> <a id="2975" class="Symbol">(</a><a id="2976" href="Ledger.Script.html#2112" class="InductiveConstructor">RequireSig</a> <a id="2987" href="Ledger.Script.html#2505" class="Generalizable">x</a><a id="2988" class="Symbol">)</a>
    <a id="2994" href="Ledger.Script.html#2994" class="InductiveConstructor">evalTSt</a> <a id="3002" class="Symbol">:</a> <a id="3004" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="3010" href="Ledger.Script.html#2612" class="Bound">I</a> <a id="3012" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3014" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="3019" href="Ledger.Script.html#2538" class="Generalizable">l</a> <a id="3021" class="Symbol">→</a> <a id="3023" href="Ledger.Script.html#2536" class="Generalizable">a</a> <a id="3025" href="Ledger.Script.html#2328" class="Bound Operator">≤</a> <a id="3027" href="Ledger.Script.html#2538" class="Generalizable">l</a> <a id="3029" class="Symbol">→</a> <a id="3031" href="Ledger.Script.html#2580" class="Datatype">evalTimelock</a> <a id="3044" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="3048" href="Ledger.Script.html#2612" class="Bound">I</a> <a id="3050" class="Symbol">(</a><a id="3051" href="Ledger.Script.html#2165" class="InductiveConstructor">RequireTimeStart</a> <a id="3068" href="Ledger.Script.html#2536" class="Generalizable">a</a><a id="3069" class="Symbol">)</a>
    <a id="3075" href="Ledger.Script.html#3075" class="InductiveConstructor">evalTEx</a> <a id="3083" class="Symbol">:</a> <a id="3085" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="3091" href="Ledger.Script.html#2612" class="Bound">I</a> <a id="3093" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3095" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="3100" href="Ledger.Script.html#2540" class="Generalizable">r</a> <a id="3102" class="Symbol">→</a> <a id="3104" href="Ledger.Script.html#2540" class="Generalizable">r</a> <a id="3106" href="Ledger.Script.html#2328" class="Bound Operator">≤</a> <a id="3108" href="Ledger.Script.html#2536" class="Generalizable">a</a> <a id="3110" class="Symbol">→</a> <a id="3112" href="Ledger.Script.html#2580" class="Datatype">evalTimelock</a> <a id="3125" href="Ledger.Script.html#2594" class="Bound">khs</a> <a id="3129" href="Ledger.Script.html#2612" class="Bound">I</a> <a id="3131" class="Symbol">(</a><a id="3132" href="Ledger.Script.html#2165" class="InductiveConstructor">RequireTimeStart</a> <a id="3149" href="Ledger.Script.html#2536" class="Generalizable">a</a><a id="3150" class="Symbol">)</a>
<a id="3152" class="Markup">\end{code}</a><a id="3162" class="Background">
\caption{Timelock scripts and their evaluation}
\label{fig:defs:timelock}
\end{figure*}

</a><a id="3252" class="Markup">\begin{code}[hide]</a>
  <a id="3273" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3287" class="Symbol">:</a> <a id="3289" href="Ledger.Prelude.html#1236" class="Function Operator">ℙ</a> <a id="3291" href="Ledger.Script.html#130" class="Bound">KeyHash</a> <a id="3299" class="Symbol">→</a> <a id="3301" class="Symbol">(</a><a id="3302" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3308" href="Ledger.Script.html#149" class="Bound">Slot</a> <a id="3313" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="3315" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3321" href="Ledger.Script.html#149" class="Bound">Slot</a><a id="3325" class="Symbol">)</a> <a id="3327" class="Symbol">→</a> <a id="3329" href="Ledger.Script.html#1930" class="Datatype">Timelock</a> <a id="3338" class="Symbol">→</a> <a id="3340" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="3347" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3361" href="Ledger.Script.html#3361" class="Bound">khs</a> <a id="3365" href="Ledger.Script.html#3365" class="Bound">I</a> <a id="3367" class="Symbol">(</a><a id="3368" href="Ledger.Script.html#1953" class="InductiveConstructor">RequireAllOf</a> <a id="3381" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="3383" class="Symbol">)</a>                   <a id="3403" class="Symbol">=</a> <a id="3405" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
  <a id="3412" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3426" href="Ledger.Script.html#3426" class="Bound">khs</a> <a id="3430" href="Ledger.Script.html#3430" class="Bound">I</a> <a id="3432" class="Symbol">(</a><a id="3433" href="Ledger.Script.html#1953" class="InductiveConstructor">RequireAllOf</a> <a id="3446" class="Symbol">(</a><a id="3447" href="Ledger.Script.html#3447" class="Bound">x</a> <a id="3449" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3451" href="Ledger.Script.html#3451" class="Bound">xs</a><a id="3453" class="Symbol">))</a>             <a id="3468" class="Symbol">=</a>
    <a id="3474" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3488" href="Ledger.Script.html#3426" class="Bound">khs</a> <a id="3492" href="Ledger.Script.html#3430" class="Bound">I</a> <a id="3494" href="Ledger.Script.html#3447" class="Bound">x</a> <a id="3496" href="Data.Bool.Base.html#986" class="Function Operator">∧</a> <a id="3498" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3512" href="Ledger.Script.html#3426" class="Bound">khs</a> <a id="3516" href="Ledger.Script.html#3430" class="Bound">I</a> <a id="3518" class="Symbol">(</a><a id="3519" href="Ledger.Script.html#1953" class="InductiveConstructor">RequireAllOf</a> <a id="3532" href="Ledger.Script.html#3451" class="Bound">xs</a><a id="3534" class="Symbol">)</a>
  <a id="3538" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3552" href="Ledger.Script.html#3552" class="Bound">khs</a> <a id="3556" href="Ledger.Script.html#3556" class="Bound">I</a> <a id="3558" class="Symbol">(</a><a id="3559" href="Ledger.Script.html#2006" class="InductiveConstructor">RequireAnyOf</a> <a id="3572" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="3574" class="Symbol">)</a>                   <a id="3594" class="Symbol">=</a> <a id="3596" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
  <a id="3604" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3618" href="Ledger.Script.html#3618" class="Bound">khs</a> <a id="3622" href="Ledger.Script.html#3622" class="Bound">I</a> <a id="3624" class="Symbol">(</a><a id="3625" href="Ledger.Script.html#2006" class="InductiveConstructor">RequireAnyOf</a> <a id="3638" class="Symbol">(</a><a id="3639" href="Ledger.Script.html#3639" class="Bound">x</a> <a id="3641" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3643" href="Ledger.Script.html#3643" class="Bound">xs</a><a id="3645" class="Symbol">))</a>             <a id="3660" class="Symbol">=</a>
    <a id="3666" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3680" href="Ledger.Script.html#3618" class="Bound">khs</a> <a id="3684" href="Ledger.Script.html#3622" class="Bound">I</a> <a id="3686" href="Ledger.Script.html#3639" class="Bound">x</a> <a id="3688" href="Data.Bool.Base.html#1044" class="Function Operator">∨</a> <a id="3690" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3704" href="Ledger.Script.html#3618" class="Bound">khs</a> <a id="3708" href="Ledger.Script.html#3622" class="Bound">I</a> <a id="3710" class="Symbol">(</a><a id="3711" href="Ledger.Script.html#1953" class="InductiveConstructor">RequireAllOf</a> <a id="3724" href="Ledger.Script.html#3643" class="Bound">xs</a><a id="3726" class="Symbol">)</a>
  <a id="3730" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3744" href="Ledger.Script.html#3744" class="Bound">khs</a> <a id="3748" href="Ledger.Script.html#3748" class="Bound">I</a> <a id="3750" class="Symbol">(</a><a id="3751" href="Ledger.Script.html#2059" class="InductiveConstructor">RequireMOf</a> <a id="3762" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="3767" class="Symbol">_)</a>                 <a id="3786" class="Symbol">=</a> <a id="3788" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
  <a id="3795" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3809" href="Ledger.Script.html#3809" class="Bound">khs</a> <a id="3813" href="Ledger.Script.html#3813" class="Bound">I</a> <a id="3815" class="Symbol">(</a><a id="3816" href="Ledger.Script.html#2059" class="InductiveConstructor">RequireMOf</a> <a id="3827" class="Symbol">(</a><a id="3828" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3832" class="Symbol">_)</a> <a id="3835" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="3837" class="Symbol">)</a>             <a id="3851" class="Symbol">=</a> <a id="3853" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
  <a id="3861" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3875" href="Ledger.Script.html#3875" class="Bound">khs</a> <a id="3879" href="Ledger.Script.html#3879" class="Bound">I</a> <a id="3881" class="Symbol">(</a><a id="3882" href="Ledger.Script.html#2059" class="InductiveConstructor">RequireMOf</a> <a id="3893" class="Symbol">(</a><a id="3894" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3898" href="Ledger.Script.html#3898" class="Bound">m</a><a id="3899" class="Symbol">)</a> <a id="3901" class="Symbol">(</a><a id="3902" href="Ledger.Script.html#3902" class="Bound">x</a> <a id="3904" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3906" href="Ledger.Script.html#3906" class="Bound">xs</a><a id="3908" class="Symbol">))</a>       <a id="3917" class="Symbol">=</a> <a id="3919" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="3922" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3936" href="Ledger.Script.html#3875" class="Bound">khs</a> <a id="3940" href="Ledger.Script.html#3879" class="Bound">I</a> <a id="3942" href="Ledger.Script.html#3902" class="Bound">x</a>
    <a id="3948" href="Data.Bool.Base.html#1283" class="Function Operator">then</a>  <a id="3954" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="3968" href="Ledger.Script.html#3875" class="Bound">khs</a> <a id="3972" href="Ledger.Script.html#3879" class="Bound">I</a> <a id="3974" class="Symbol">(</a><a id="3975" href="Ledger.Script.html#2059" class="InductiveConstructor">RequireMOf</a> <a id="3986" href="Ledger.Script.html#3898" class="Bound">m</a> <a id="3988" href="Ledger.Script.html#3906" class="Bound">xs</a><a id="3990" class="Symbol">)</a>
    <a id="3996" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="4002" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="4016" href="Ledger.Script.html#3875" class="Bound">khs</a> <a id="4020" href="Ledger.Script.html#3879" class="Bound">I</a> <a id="4022" class="Symbol">(</a><a id="4023" href="Ledger.Script.html#2059" class="InductiveConstructor">RequireMOf</a> <a id="4034" class="Symbol">(</a><a id="4035" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4039" href="Ledger.Script.html#3898" class="Bound">m</a><a id="4040" class="Symbol">)</a> <a id="4042" href="Ledger.Script.html#3906" class="Bound">xs</a><a id="4044" class="Symbol">)</a>
  <a id="4048" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="4062" href="Ledger.Script.html#4062" class="Bound">khs</a> <a id="4066" href="Ledger.Script.html#4066" class="Bound">I</a> <a id="4068" class="Symbol">(</a><a id="4069" href="Ledger.Script.html#2112" class="InductiveConstructor">RequireSig</a> <a id="4080" href="Ledger.Script.html#4080" class="Bound">x</a><a id="4081" class="Symbol">)</a>                      <a id="4104" class="Symbol">=</a> <a id="4106" href="Ledger.Script.html#4080" class="Bound">x</a> <a id="4108" href="Axiom.Set.html#6694" class="Function Operator">∈ᵇ</a> <a id="4111" href="Ledger.Script.html#4062" class="Bound">khs</a>
  <a id="4117" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="4131" href="Ledger.Script.html#4131" class="Bound">khs</a> <a id="4135" class="Symbol">(</a><a id="4136" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="4141" href="Ledger.Script.html#4141" class="Bound">l</a>  <a id="4144" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4146" class="Symbol">_)</a>  <a id="4150" class="Symbol">(</a><a id="4151" href="Ledger.Script.html#2165" class="InductiveConstructor">RequireTimeStart</a> <a id="4168" href="Ledger.Script.html#4168" class="Bound">x</a><a id="4169" class="Symbol">)</a>   <a id="4173" class="Symbol">=</a> <a id="4175" href="Ledger.Script.html#4168" class="Bound">x</a> <a id="4177" href="Ledger.Script.html#2354" class="Bound Operator">≤ᵇ</a> <a id="4180" href="Ledger.Script.html#4141" class="Bound">l</a>
  <a id="4184" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="4198" href="Ledger.Script.html#4198" class="Bound">khs</a> <a id="4202" class="Symbol">(</a><a id="4203" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="4211" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4213" class="Symbol">_)</a>  <a id="4217" class="Symbol">(</a><a id="4218" href="Ledger.Script.html#2165" class="InductiveConstructor">RequireTimeStart</a> <a id="4235" href="Ledger.Script.html#4235" class="Bound">x</a><a id="4236" class="Symbol">)</a>   <a id="4240" class="Symbol">=</a> <a id="4242" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
  <a id="4250" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="4264" href="Ledger.Script.html#4264" class="Bound">khs</a> <a id="4268" class="Symbol">(_</a> <a id="4271" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4273" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="4278" href="Ledger.Script.html#4278" class="Bound">r</a> <a id="4280" class="Symbol">)</a>  <a id="4283" class="Symbol">(</a><a id="4284" href="Ledger.Script.html#2218" class="InductiveConstructor">RequireTimeExpire</a> <a id="4302" href="Ledger.Script.html#4302" class="Bound">x</a><a id="4303" class="Symbol">)</a>  <a id="4306" class="Symbol">=</a> <a id="4308" href="Ledger.Script.html#4278" class="Bound">r</a> <a id="4310" href="Ledger.Script.html#2354" class="Bound Operator">≤ᵇ</a> <a id="4313" href="Ledger.Script.html#4302" class="Bound">x</a>
  <a id="4317" href="Ledger.Script.html#3273" class="Function">evalTimelockᵇ</a> <a id="4331" href="Ledger.Script.html#4331" class="Bound">khs</a> <a id="4335" class="Symbol">(_</a> <a id="4338" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4340" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a><a id="4347" class="Symbol">)</a>  <a id="4350" class="Symbol">(</a><a id="4351" href="Ledger.Script.html#2218" class="InductiveConstructor">RequireTimeExpire</a> <a id="4369" href="Ledger.Script.html#4369" class="Bound">x</a><a id="4370" class="Symbol">)</a>  <a id="4373" class="Symbol">=</a> <a id="4375" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>

  <a id="4384" class="Keyword">unquoteDecl</a> <a id="4396" href="Ledger.Script.html#4396" class="Function">DecEq-Timelock</a> <a id="4411" class="Symbol">=</a> <a id="4413" href="Tactic.Derive.DecEq.html#3015" class="Function">derive-DecEq</a> <a id="4426" class="Symbol">((</a><a id="4428" class="Keyword">quote</a> <a id="4434" href="Ledger.Script.html#1930" class="Datatype">Timelock</a> <a id="4443" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4445" href="Ledger.Script.html#4396" class="Function">DecEq-Timelock</a><a id="4459" class="Symbol">)</a> <a id="4461" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="4463" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="4465" class="Symbol">)</a>

  <a id="4470" class="Keyword">open</a> <a id="4475" href="Ledger.Script.html#432" class="Module">P1ScriptStructure</a>

  <a id="4496" class="Comment">-- P1ScriptStructure-TL : Hashable Timelock ScriptHash → P1ScriptStructure</a>
  <a id="4573" class="Comment">-- P1ScriptStructure-TL h .P1Script = Timelock</a>
  <a id="4622" class="Comment">-- P1ScriptStructure-TL h .validP1Script = evalTimelock</a>
  <a id="4680" class="Comment">-- P1ScriptStructure-TL h .validP1Script? = {!!}</a>
  <a id="4731" class="Comment">-- P1ScriptStructure-TL h .Hashable-P1Script = h</a>
  <a id="4782" class="Comment">-- P1ScriptStructure-TL h .DecEq-P1Script = DecEq-Timelock</a>
<a id="4841" class="Markup">\end{code}</a><a id="4851" class="Background">
</a></pre></body></html>